 ã€ ROUTER ã€
 
 ã€Š ğ™Šğ™£ ğ™©ğ™ğ™š ğ™§ğ™¤ğ™ªğ™©ğ™šğ™§ ğ™¬ğ™ğ™¡ğ™¡ ğ™—ğ™š ğ™¬ğ™ğ™šğ™§ğ™š ğ™–ğ™¡ğ™¡ ğ™©ğ™ğ™š ğ™ğ™£ğ™›ğ™¤ğ™§ğ™¢ğ™–ğ™©ğ™ğ™¤ğ™£ ğ™šğ™£ğ™©ğ™šğ™§ğ™¨ ğ™–ğ™£ğ™™ ğ™¡ğ™šğ™–ğ™«ğ™šğ™¨ ğ™›ğ™§ğ™¤ğ™¢ ğ™¢ğ™® ğ™¥ğ™§ğ™ğ™«ğ™–ğ™©ğ™š ğ™£ğ™šğ™©ğ™¬ğ™¤ğ™§ğ™ !
 ğ™›ğ™¤ğ™§ ğ™—ğ™šğ™œğ™ğ™£ğ™£ğ™ğ™£ğ™œ, ğ™„'ğ™¡ğ™¡ ğ™˜ğ™¤ğ™£ğ™›ğ™ğ™œğ™ªğ™§ğ™š ğ™‰ğ˜¼ğ™ ğ™›ğ™¤ğ™§ ğ™©ğ™ğ™š ğ˜¿ğ™ˆğ™• ğ™–ğ™£ğ™™ ğ™©ğ™ğ™š ğ™¤ğ™©ğ™ğ™šğ™§ ğ™¥ğ™§ğ™ğ™«ğ™–ğ™©ğ™š ğ™£ğ™šğ™©ğ™¬ğ™¤ğ™§ğ™  ğ™¢ğ™–ğ™˜ğ™ğ™ğ™£ğ™šğ™¨. ã€‹
 
 â—â— ğ™ğ™ğ™€ğ™‹: 1
 
 â‡¨ AWS: Actions > Networking > Change source/destination checking > STOP (This will allow NAT)
 â‡¨ sudo hostnamectl set-hostname control.inova.pt (Server Domain)
 â‡¨ nano keypair.pem (Inside paste your private key that you used to connect to the machine)
 â‡¨ sudo chmod 400 keypair.pem (Give Permissions to the key file)
 
 â‡¨ sudo su - (Root user)
 â‡¨ apt update && apt upgrade -y (Update system)
 
 â‡¨ apt install netfilter-persistant iptables-persistant
 â‡¨ iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
 â‡¨ iptables -t nat -A PREROUTING -i eth0 -p tcp -m multiport --dport 80,443 -j DNAT --to-destination 172.31.128.101 (Redirects the HTTP/HTTPS Traffic to DMZ) 
 â‡¨ iptables -t nat -L -nv (Check)
 â‡¨ netfilter-persistant save (Save Configurations)
 â‡¨ nano /etc/sysctl.conf
   > Uncomment # net.ipv4.ip_forward=1
 
 â‡¨ sysctl -p (If the awnser is 1, then your good to go)
 â‡¨ ip a (Copy MAC Address from your eth2, thats the 2 network interface that you attached to your router.)
 â‡¨ nano /etc/netplan/50-cloud-init.yaml
   > Copy eth1 block in your netplan (should look like this)
   eth1:
            dhcp4: true
            dhcp4-overrides:
                route-metric: 200
            dhcp6: false
            match:
                macaddress: 06:ae:39:d4:dc:df
            set-name: eth1

   â‡¨ Change the eth1 to eth2, paste above "set-name: eth1" the block that you have copied, Clear the Mac Adress and paste the one from eth2 (Should Look like this)
   eth2:
            dhcp4: true
            dhcp4-overrides:
                route-metric: 200
            dhcp6: false
            match:
                macaddress: (eth2 mac adress here from ip a)
            set-name: eth2 
            
 ------------------------------------------------------------------
 â—â— Next Part on S111-Project/Debian/www.inova.pt (DMZ) (FOLDER) â—â— 
                  â—â— ğ™ğ™ğ™€ğ™‹: 1 to ğ™ğ™ğ™€ğ™‹: 2 â—â—
 ------------------------------------------------------------------
   
    
   
