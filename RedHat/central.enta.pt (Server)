ã€Ž ð™Žð™šð™§ð™«ð™šð™§ ã€

ã€Š ð˜Œð˜®ð˜¢ð˜ªð˜­ ð˜šð˜¦ð˜³ð˜·ð˜¦ð˜³ / ð˜•ð˜ð˜š / ð˜•ð˜ð˜š / ð˜™ð˜ˆð˜ð˜‹ 5 ã€‹

â—â— ð˜ð˜§ ð˜ºð˜°ð˜¶ ð˜¥ð˜ªð˜¥ ð˜•ð˜ˆð˜› ð˜°ð˜¯ ð˜™ð˜°ð˜¶ð˜µð˜¦ð˜³ (ð˜¤ð˜°ð˜¯ð˜µð˜³ð˜°ð˜­.ð˜ªð˜¯ð˜°ð˜·ð˜¢.ð˜±ð˜µ) ð˜ºð˜°ð˜¶ ð˜®ð˜¢ð˜º ð˜¤ð˜°ð˜¯ð˜µð˜ªð˜¯ð˜¶ð˜¦ ð˜µð˜©ð˜¦ ð˜ªð˜¯ð˜´ð˜µð˜³ð˜¶ð˜¤ð˜µð˜ªð˜°ð˜¯ð˜´.

â‡¨ sudo hostnamectl set-hostname central.enta.pt (Set Server Domain)
â‡¨ sudo su - (Root)

â‡¨ nano /etc/sysconfig/network-scripts/ifcfg-eth0
  âž£ GATEWAY=10.0.60.100
  âž£ DNS1=10.0.0.191
  âž£ DNS2=8.8.8.8
â‡¨ systemctl restart network
â‡¨ ping 1.1.1.1
â‡¨ yum update

#################################################
##                                             ##
##                  RAID 5                     ##
##                                             ##
#################################################

##Create 3 Disks on AWS Volumes and Attach to central.enta.pt (1GB DISKS)

â‡¨  lsblk (check if the 3 disks are attached)
â‡¨ gdisk /dev/xvdf         | o ã€‹Y ã€‹n ã€‹ENTER ã€‹ENTER ã€‹ENTER ã€‹ fd00 ã€‹w ã€‹Y | 
â‡¨ gdisk /dev/xvdg         | o ã€‹Y ã€‹n ã€‹ENTER ã€‹ENTER ã€‹ENTER ã€‹ fd00 ã€‹w ã€‹Y | 
â‡¨ gdisk /dev/xvdh         | o ã€‹Y ã€‹n ã€‹ENTER ã€‹ENTER ã€‹ENTER ã€‹ fd00 ã€‹w ã€‹Y | 
â‡¨ lsblk
â‡¨ mdadm --create /dev/md0 --level 5 --raid-devices 3 (DISK)1 (DISK)1 (DISK)1 
â‡¨ mdadm --detail /dev/md0 (Only advance when the Rebuild Status is 100% clean)
â‡¨ cryptsetup luksFormat --hash=sha512 --key-size=512 --cipher=aes-xts-plain64 --verify-passphrase /dev/md0 (Super@Passw0rd)
â‡¨ cryptsetup luksOpen /dev/md0 md0_crypt
â‡¨ pvcreate /dev/mapper/md0_crypt
â‡¨ vgcreate vg0 /dev/mapper/md0_crypt
â‡¨ lvcreate -n vg0lv0 -l +100%FREE vg0
â‡¨ mkfs.xfs /dev/vg0/vg0lv0
â‡¨ mkdir /mnt/raid5_Storage
â‡¨ mount /dev/vg0/vg0lv0 /mnt/raid5_Storage/
â‡¨ lsblk
â‡¨ cat /etc/mtab (Copy the last line)
â‡¨ nano /etc/fstab ( Paste lines with " ,nofail ")

â‡¨ When you reboot the server:
  > cryptsetup luksOpen /dev/md0 md0_crypt (to open md0_crypt and vg)
  > mount -a (to mount the folder to ride5)
  
  
#################################################
##                                             ##
##                   NFS                       ##
##                                             ##
#################################################

â‡¨ yum -y install nfs-utils
â‡¨ nano /etc/idmapd.conf
  #UNCOMMAND AND EDIT
  Domain = enta.pt
â‡¨ nano /etc/hosts
  add: 10.0.60.101 central.enta.pt entasrv.enta.pt enta.pt (to identify the host)
â‡¨ nano /etc/exports
  add: /var/homes/ *(rw,sync,no_subtree_check,no_root_squash)
â‡¨ mkdir /var/homes
â‡¨ systemctl start rpcbind nfs-server
â‡¨ systemctl enable rpcbind nfs-server
â‡¨ Go to the clients and configure NFS



#################################################
##                                             ##
##                   NIS                       ##
##                                             ##
#################################################

â‡¨ yum -y install ypserv rpcbind
â‡¨ ypdomainname enta.pt
â‡¨ echo "NISDOMAIN=enta.pt" >> /etc/sysconfig/network
â‡¨ nano /var/yp/securenets
  # add IP addresses you allow to access to NIS server
  255.255.255.0       10.0.0.0
  255.255.255.0       10.0.60.0
â‡¨ systemctl start rpcbind ypserv ypxfrd yppasswdd
â‡¨ systemctl enable rpcbind ypserv ypxfrd yppasswdd
â‡¨ /usr/lib64/yp/ypinit -m
â‡¨ cd /var/yp
â‡¨ make



